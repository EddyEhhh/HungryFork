<!DOCTYPE html>
<html lang="en">

<head>
    <title>Movies Review Website</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <div style="background-color:Black"></div>
    <link href="css/mystyle.css" rel="stylesheet">
    <link href="css/overlay.css" rel="stylesheet">
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet">
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
          rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>


    <script src="js/app.js"></script>
    <script src="js/comments.js"></script>
    <script src="js/movies.js"></script>
    <script src="js/carousell.js"></script>
    <script src="js/app.js"></script>
    <script src="js/explore.js"></script>
    <script src="js/reviews.js"></script>

</head>

<body style="background-color:black;">

<header>
    <div class="container"></div>
    <a href="index.html"><img alt="logo" class="logo" src="images/logoWhite.png">
        <img alt="logo" class="logo" src="images/titleName.png"></a>
    <a class="loginButton" href="#" id="userButton" onclick="document.getElementById('id01').style.display='block'"><img
            class="profileLogo" src="images/profile.png">Login</a>
    <a class="registerButton" href="#" id="userButton"
       onclick="document.getElementById('id02').style.display='block'"><img
            class="profileLogo" src="images/home/registerLogo.png">Register</a>

    <div class="topnav-centered">
        <nav>

            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="explore.html" href="#">Explore</a></li>
                <li><a href="#" onclick="document.getElementById('contact').style.display='block'">Contacts</a></li>

    </div>


    </nav>
    <div class="menu-toggle"></div>


    </div>

</header>
<script crossorigin="anonymous" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('.menu-toggle').click(function () {
            $('.menu-toggle').toggleClass('active')
            $('nav').toggleClass('active')

        })
    })
</script>





</head>


<div class="modal" id="restaurant1">

    <form class="modal-content animate" style="overflow: scroll; overflow-x: hidden; width:700px; height:80%;">

                    <span class="close" onclick="document.getElementById('restaurant1').style.display='none'"
                          style="color:crimson"
                          title="Close Modal">&times;</span>

        <div>
            <img class="img-banner" src="images/restaurant/restaurant1Banner.png">
        </div>

        <h2 style="color:black; padding-left: 0px; margin-top: 10px; margin-left: 20px;"><b>Mpire
            Restaurant & Bar</b>
        </h2>


        <p style="margin-left:550px; margin-top:-45px; font-size: 25px; color:black;">
            <i class="fa fa-star" style="margin-top: -30px; margin-left: -20px; color:gold;"></i>
            4.8/5 (1k+)
        </p>

        <h1 style="color:#000;">
            <hr style="border:0.5px solid #000;margin-top: 0px;">
            <img src="images/tempRestaurantCatergory1.png" style="float: left; margin-left: 20px;"></h1>
        <h1 style="color:#000;">
            <hr style="border:0.5px solid #000;margin-top: 0px;">
        </h1>
        <p style="padding: 20px; margin-top: -30px; color:black;">Mpire Restaurant & Bar could be your best
            kept secret in the CBD, offering unpretentious
            good quality food at even better prices, and service that makes our customers walk away
            with big smiles on their faces. Our bar is the best place to stop by for a tipple with your
            pals.</p>
        <p style="padding: 20px; margin-top: -30px; color:black;"><b>Address</b></p>
        <p style="padding: 20px; margin-top: -60px; color:black;">77 Amoy St, Singapore 069896</p>


        <p style="padding: 20px; margin-top: -30px; color:black;"><b>Opening Hours</b></p>
        <p style="padding: 20px; margin-top: -60px; color:black;">Every Mon â€“ Thurs: 11am - 11:30pm</p>
        <p style="padding: 20px; margin-top: -60px; color:black;">Every Fri: 11am - 12am</p>
        <p style="padding: 20px; margin-top: -60px; color:black;">Every Sat & PH: 4pm - 11pm</p>
        <p style="padding: 20px; margin-top: -60px; color:black;">Closed every Sunday</p>

        <p style="padding: 20px; margin-top: -30px; color:black;"><b>Phone</b></p>
        <p style="padding: 20px; margin-top: -60px; color:black;">6226 0287</p>

        <p>
            <iframe allowfullscreen=""
                    frameborder="0" height="200" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.8218831140334!2d103.84445461475391!3d1.2805456990660145!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31da196fde684eab%3A0xa19164877a99c0be!2sMpire!5e0!3m2!1sen!2ssg!4v1579783559420!5m2!1sen!2ssg" style="border:0;"
                    style="float: right; padding:20px; margin-top: -295px" width="250"></iframe>
        </p>

        <h1 style="color:#000;">
            <hr style="width: 93%; border:0.5px solid #000;margin-top: 0px;">
        </h1>

        <h2 style="color:black; padding-left: 0px; margin-top: 10px; margin-left: 20px;"><b>Review</b>
        </h2>

        <button onclick="pop()" style="padding: 10px; width: 150px; margin-top: -55px; margin-left: 520px;">Post
            a review
        </button>

        <p style="margin-left:180px; margin-top:-45px; font-size: 25px; color:black;">
            <i class="fa fa-star" style="margin-top: -30px; margin-left: -20px; color:#FF9800;"></i>
            4.8/5 (1321)
        </p>


        <p></p>
        <img src="images/restaurant/reviewSet1.png" style="float: center; margin-left: 20px"></h1>

    </form>

</div>

<script>


    var response = "";

    function login() {
        // Create a new object to contain the data in the loginForm.
        // We assign the new object to a variable called "credentials".
        var credentials = new Object();

        credentials.username = document.getElementById("username").value;
        credentials.user_password = document.getElementById("user_password").value;

        var request = new XMLHttpRequest();

        request.open("POST", "/login", true);
        request.setRequestHeader("Content-Type", "application/json");
        request.onload = function () {
            response = JSON.parse(request.responseText);
            document.getElementById("login-box").style.display = "none";

            if (response.message == "1") {
                window.location = "index.html"
            } else {
                document.getElementById("message").textContent = response.message;
            }
        };

        request.send(JSON.stringify(credentials));
    }


</script>

<div class="modal" id="id01">

    <form class="modal-content animate" method="POST" style="width:500px">
        <div class="imgcontainer" id="login-box">
            <span class="close" onclick="document.getElementById('id01').style.display='none'" title="Close Modal">&times;</span>
            <img src="images/Home/loginLogo.png">
        </div>

        <div class="container2">
            <input id="username" name="uname" placeholder="Username" required type="text">

            <input id="user_password" name="psw" placeholder="Password" required type="password">
            <p></p>

            <button onclick="login()" type="submit">Login</button>
            <label>
                <input checked="checked" name="remember" type="checkbox"> Remember me
            </label>
        </div>

        <div class="container2" style="background-color:#f1f1f1">

                    <span class="psw"><a href="#">Forgot Password</a>

        </div>
    </form>
</div>


<div class="modal" id="id02">
    <form action="/action_page.php" class="modal-content animate" method="put" style="width:500px">
        <div class="imgcontainer">
            <span class="close" onclick="document.getElementById('id02').style.display='none'" title="Close Modal">&times;</span>
            <img src="images/Home/registerIcon.png">
        </div>

        <div class="container2">

            <input name="uname" placeholder="Username" required type="text">
            <p></p>
            <input name="email" placeholder="Email" required type="text">
            <p></p>
            <input name="Mobile" placeholder="Mobile Number" required type="text">
            <p></p>
            <input name="psw" placeholder="Password" required type="password">
            <p></p>
            <input name="psw-repeat" placeholder="Confirm Password" required type="password">
            <p></p>

            <form>
                <select name="Gender">
                    <option selected value="Male">M</option>
                    <option value="Female">F</option>
                    <option value="Others">O</option>
                </select>
            </form>
            <p></p>


            <p>By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a>.</p>

            <div class="clearfix">
                <button class="signupbtn" type="submit">Sign Up</button>
            </div>
        </div>
    </form>
</div>

<div class="modal" id="contact">
    <form action="/action_page.php" class="modal-content animate" method="put" style="width:500px">
        <div class="imgcontainer">
            <span class="close" onclick="document.getElementById('contact').style.display='none'" title="Close Modal">&times;</span>
            <img src="images/Home/contactUsInfo.png">
        </div>

        <div class="container2">

            <input name="uname" placeholder="Name" required type="text">
            <p></p>
            <input name="email" placeholder="Email" required type="text">
            <p></p>
            <input name="psw" placeholder="Phone(Optional)" type="text">
            <p></p>
            <textarea name="description" placeholder="    Message" required
                      style="height: 100px; width: 100%; resize:none;"></textarea>
            <p></p>


            <div class="container">
                <div class="row">
                    <div class="col-sm-12">

                        <p class="blackText1">Tel: 9123 4567 </p>
                        <p class="blackText1">Fax: 9123 4568</p>
                        <p class="blackText1">Email: Hungry@Fork.com</p>
                    </div>


                </div>

                <p class="blackTitle1" style="position:absolute; right:25px; bottom: 50px;"><b>Find Us!</b></p>
                <p class="blackText1" style="position:absolute; right:-10px; bottom: 0px; "><a
                        href="http://instagram.com"><img
                        class="socialIcon" src="images/Home/Instagram.png"></a>
                    <a href="http://facebook.com"><img class="socialIcon" src="images/Home/Facebook.png"></a>
                    <a href="http://Twitter.com"><img class="socialIcon" src="images/Home/Twitter.png"></a></p>


            </div>


            <div class="clearfix" style="position:absolute; bottom: 110px; right:15px; width: 30%;">
                <button class="sendMessage" type="submit">Send</button>
            </div>
        </div>
    </form>
</div>

<script>
    // Get the modal
    var restaurant1 = document.getElementById('restaurant1');


    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == restaurant1) {
            restaurant1.style.display = "none";
        }
    }
    var urlParams = new URLSearchParams(window.location.search);

    // We then use the built-in getAll function and passin the key of the query string
    // which is 'username' to get its value;
    var restaurantid = urlParams.getAll('id')
    $.ajax({
        url: "/review/restaurant/" + restaurantid,
        type: 'GET',
        dataType: 'json', // added data type
        success: function(res) {
            console.log(res);
            createReview(res);
        }
    });
    function createReview(reviews) {
        for (var x = 0; x < reviews.length; x++) {
            var reviewCard = document.getElementById("reviewCard");
            var cardHeader = document.createElement("H5")
            cardHeader.className = "card-header"
            var cardBody = document.createElement("DIV")
            cardBody.className = "card-body"
            var cardTitle = document.createElement("H5")
            cardTitle.className = "card-title"
            var cardText = document.createElement("P")
            cardTitle.className = "card-text"
            cardHeader.textContent = reviews[x].review_timestamp
            cardText.textContent = "User ID: " + reviews[x].user_id + " Rating: " + reviews[x].review_rating + " Comment: " + reviews[x].review_comment
            cardBody.appendChild(cardTitle)
            cardBody.appendChild(cardText)
            reviewCard.appendChild(cardHeader)
            reviewCard.appendChild(cardBody)
        }
    }


</script>

<body onload="getSpecificRestaurantData()">
<!--This is where the top navigation HTML codes will be loaded-->
<!-- This is the container that holds the initial message, heading, and movies -->
<div class="container" style="margin-top: 200px;">
    <!-- The message will be shown when the page loads and will
    disappear after the movies are loaded -->
    <p>
        <!-- This is the heading showing how many movies are there -->
    <h3 id="summary"></h3>
    </p>
    <!-- Displays thumbnails of the movies here -->
    
</div>
<div class="card" id="reviewCard"></div>
<br><br>
</body>

</body>
<style>
    input[type=text],
    input[type=password] {
        margin: 8px 0;
    }

    /* Set a style for all buttons */
</style>